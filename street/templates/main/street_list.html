{% extends 'base.html' %}


{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'css/street_list.css' %}">

<script src="{% static 'js/search.js' %}"></script>

<!-- sidebar -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left w3-rightbar w3-border-teal" style="z-index:3;width:300px; display: block;" id="mySidebar"><br>
  <h3 class="w3-padding">Панель модератора:</h3>
  <div class="w3-bar-block">
  <a id="sidebar_item" href="#" class="w3-bar-item w3-button w3-hide-large w3-hover-teal" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>  Закрити</a>  
  <a id="sidebar_item" class="w3-bar-item w3-button w3-padding w3-hover-teal" 
    href="{% url 'main:document_new' %}">
    <i class="fa fa-file" ></i>  Додати документ</a>
  <a id="sidebar_item" class="w3-bar-item w3-button w3-padding w3-hover-teal" 
    href="{% url 'main:street_new' %}">
    <i class="fa fa-plus"></i>  Додати вулицю</a>
  </div>
</nav>
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
  

<!-- main content -->
<div class="w3-main" style="margin-left:300px;">
  <div class="w3-padding w3-col w3-container ">
      <div class="w3-cell-row">
        <div class="w3-container w3-cell">
          <label for="searchDate">Вулиці, актуальні на дату:</label>
          <input id="searchDate" class="w3-input" type="date" name="date" max = "{{ date_now }}" value="{{ date_now }}">
        </div>
      <div class="w3-container w3-cell">
        <label for="searchName">Пошук за назвою:</label>
        <input id="searchName" class="w3-input" type="text" name="name_vul" placeholder="Введіть назву..">
      </div>

      

      <div class="w3-container w3-cell w3-cell-bottom ">
        <div class="w3-dropdown-hover">
          <button class="w3-black w3-btn"><i class="fa fa-filter"></i>  Фільтр</button>
          <div class="w3-padding w3-dropdown-content w3-bar-block w3-border" style="right:0; width:400px;">
            <h5><b>Фільтр за районом чи топонімом вулиці: </b></h5>
            <div class="w3-padding w3-container w3-teal w3-margin w3-border w3-round-large">
              <label for="districtSelect">Оберіть район:</label>
              <select id="districtSelect" class="w3-select w3-teal" onChange="myFunction()">
                <option value="0" >Будь-який</option>
                {% for district in district_list %}
                  <option value="{{ district.id }}">{{ district.name }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="w3-padding w3-container w3-teal w3-margin w3-border w3-round-large">
              <label for="typeSelect">Оберіть тип:</label>
              <select id="typeSelect" class="w3-select w3-teal" onChange="myFunction()">
                <option value="0" >Будь-який</option>
                {% for type in street_type_list %}
                  <option value="{{ type.id }}">{{ type.name }}</option>
                {% endfor %}
              </select>
            </div>
          </div>
        </div>
      </div>

    </div>
      <div class="w3-half">
        <label for="countStreets">Кількість вулиць: {{ street_count }}</label>
      </div>

      <table id = "streets" class="w3-table-all"></table>
  </div>
</div>

<script>
  // Get the Sidebar
  var mySidebar = document.getElementById("mySidebar");
  
  // Get the DIV with overlay effect
  var overlayBg = document.getElementById("myOverlay");
  
  // Toggle between showing and hiding the sidebar, and add overlay effect
  function w3_open() {
    if (mySidebar.style.display === 'block') {
      mySidebar.style.display = 'none';
      overlayBg.style.display = "none";
    } else {
      mySidebar.style.display = 'block';
      overlayBg.style.display = "block";
    }
  }
  
  // Close the sidebar with the close button
  function w3_close() {
    mySidebar.style.display = "none";
    overlayBg.style.display = "none";
  }
  </script>

{% endblock %}
